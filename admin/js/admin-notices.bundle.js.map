{
  "version": 3,
  "sources": ["../../src/js/admin-notices.js"],
  "sourcesContent": ["(function ($) {\n\t'use strict';\n\n\t// Small helper to create WordPress admin toasts and confirm dialogs using core/notices\n\twindow.OptipressNotices = {\n\t\tcreateNotice: function (type, message, options) {\n\t\t\toptions = options || {};\n\t\t\tif (typeof wp !== 'undefined' && wp.data && wp.data.dispatch) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _noticesDispatcher = wp.data.dispatch('core/notices');\n\t\t\t\t\tif (\n\t\t\t\t\t\t_noticesDispatcher &&\n\t\t\t\t\t\ttypeof _noticesDispatcher.createNotice === 'function'\n\t\t\t\t\t) {\n\t\t\t\t\t\t_noticesDispatcher.createNotice(type, message, options);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Fall through to alert fallback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// DOM-based fallback: create a temporary admin notice inside the settings page\n\t\t\ttry {\n\t\t\t\tvar $container = jQuery('#optipress-notice-area');\n\t\t\t\tif (!$container.length) {\n\t\t\t\t\t$container = jQuery('<div id=\"optipress-notice-area\"></div>');\n\t\t\t\t\t// Prepend to the main wrap if available\n\t\t\t\t\tif (jQuery('.wrap').length) {\n\t\t\t\t\t\tjQuery('.wrap').first().prepend($container);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery('body').prepend($container);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar noticeClass = 'notice';\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'success':\n\t\t\t\t\t\tnoticeClass += ' notice-success';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'warning':\n\t\t\t\t\t\tnoticeClass += ' notice-warning';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\tnoticeClass += ' notice-error';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tnoticeClass += ' notice-info';\n\t\t\t\t}\n\n\t\t\t\tvar $notice = jQuery(\n\t\t\t\t\t'<div class=\"' + noticeClass + ' is-dismissible\"><p>' + message + '</p></div>'\n\t\t\t\t);\n\t\t\t\t$container.append($notice);\n\t\t\t\t// Make the notice dismissible\n\t\t\t\t$notice.on('click', '.notice-dismiss', function () {\n\t\t\t\t\t$notice.remove();\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\t// Last-resort fallback\n\t\t\t\twindow.console && window.console.log && window.console.log(message);\n\t\t\t}\n\t\t},\n\n\t\t// createConfirm returns a Promise that resolves to true when confirmed, false otherwise\n\t\tcreateConfirm: function (message, opts) {\n\t\t\topts = opts || {};\n\n\t\t\t// Try to use core/notices with buttons if available\n\t\t\tif (typeof wp !== 'undefined' && wp.data && wp.data.dispatch) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _noticesDispatcher = wp.data.dispatch('core/notices');\n\t\t\t\t\tif (\n\t\t\t\t\t\t_noticesDispatcher &&\n\t\t\t\t\t\ttypeof _noticesDispatcher.createNotice === 'function'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t\t\t\tvar noticeOptions = {\n\t\t\t\t\t\t\t\tisDismissible: true,\n\t\t\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: opts.confirmLabel || 'Confirm',\n\t\t\t\t\t\t\t\t\t\tonClick: function () {\n\t\t\t\t\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: opts.cancelLabel || 'Cancel',\n\t\t\t\t\t\t\t\t\t\tonClick: function () {\n\t\t\t\t\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t_noticesDispatcher.createNotice('warning', message, noticeOptions);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Fall through to DOM modal fallback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// DOM modal fallback (no native confirm)\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\tvar $modal = jQuery(\n\t\t\t\t\t'<div class=\"optipress-modal-overlay\" role=\"dialog\" aria-modal=\"true\"><div class=\"optipress-modal\"><div class=\"optipress-modal-body\"><p>' +\n\t\t\t\t\t\tmessage +\n\t\t\t\t\t\t'</p></div><div class=\"optipress-modal-actions\"><button class=\"optipress-modal-confirm button button-primary\">' +\n\t\t\t\t\t\t(opts.confirmLabel || 'Confirm') +\n\t\t\t\t\t\t'</button> <button class=\"optipress-modal-cancel button\">' +\n\t\t\t\t\t\t(opts.cancelLabel || 'Cancel') +\n\t\t\t\t\t\t'</button></div></div></div>'\n\t\t\t\t);\n\n\t\t\t\t// Basic styling to make it visible (kept small and unobtrusive)\n\t\t\t\tvar style =\n\t\t\t\t\t'\\n.optipress-modal-overlay{position:fixed;left:0;top:0;right:0;bottom:0;z-index:99999;background:rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center}\\n.optipress-modal{background:#fff;border-radius:4px;padding:20px;max-width:520px;box-shadow:0 2px 10px rgba(0,0,0,0.2)}\\n.optipress-modal .optipress-modal-actions{margin-top:16px;text-align:right}';\n\t\t\t\tif (!document.getElementById('optipress-modal-style')) {\n\t\t\t\t\tvar s = document.createElement('style');\n\t\t\t\t\ts.id = 'optipress-modal-style';\n\t\t\t\t\ts.appendChild(document.createTextNode(style));\n\t\t\t\t\tdocument.head.appendChild(s);\n\t\t\t\t}\n\n\t\t\t\tjQuery('body').append($modal);\n\n\t\t\t\t$modal.find('.optipress-modal-confirm').on('click', function () {\n\t\t\t\t\t$modal.remove();\n\t\t\t\t\tresolve(true);\n\t\t\t\t});\n\n\t\t\t\t$modal.find('.optipress-modal-cancel').on('click', function () {\n\t\t\t\t\t$modal.remove();\n\t\t\t\t\tresolve(false);\n\t\t\t\t});\n\n\t\t\t\t// Close on ESC\n\t\t\t\tjQuery(document).on('keydown.optipressModal', function (e) {\n\t\t\t\t\tif (e.key === 'Escape') {\n\t\t\t\t\t\tjQuery(document).off('keydown.optipressModal');\n\t\t\t\t\t\t$modal.remove();\n\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t};\n})(jQuery);\n"],
  "mappings": "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",
  "names": []
}
