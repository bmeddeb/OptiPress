{
  "version": 3,
  "sources": ["../../src/js/admin-notices.js"],
  "sourcesContent": ["(function ($) {\n\t'use strict';\n\n\t// Small helper to create WordPress admin toasts and confirm dialogs using core/notices\n\twindow.OptipressNotices = {\n\t\tcreateNotice: function (type, message, options) {\n\t\t\toptions = options || {};\n\t\t\tif (typeof wp !== 'undefined' && wp.data && wp.data.dispatch) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _noticesDispatcher = wp.data.dispatch('core/notices');\n\t\t\t\t\tif (\n\t\t\t\t\t\t_noticesDispatcher &&\n\t\t\t\t\t\ttypeof _noticesDispatcher.createNotice === 'function'\n\t\t\t\t\t) {\n\t\t\t\t\t\t_noticesDispatcher.createNotice(type, message, options);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Fall through to alert fallback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// DOM-based fallback: create a temporary admin notice inside the settings page\n\t\t\ttry {\n\t\t\t\tvar $container = jQuery('#optipress-notice-area');\n\t\t\t\tif (!$container.length) {\n\t\t\t\t\t$container = jQuery('<div id=\"optipress-notice-area\"></div>');\n\t\t\t\t\t// Prepend to the main wrap if available\n\t\t\t\t\tif (jQuery('.wrap').length) {\n\t\t\t\t\t\tjQuery('.wrap').first().prepend($container);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery('body').prepend($container);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar noticeClass = 'notice';\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'success':\n\t\t\t\t\t\tnoticeClass += ' notice-success';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'warning':\n\t\t\t\t\t\tnoticeClass += ' notice-warning';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\tnoticeClass += ' notice-error';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tnoticeClass += ' notice-info';\n\t\t\t\t}\n\n\t\t\t\tvar $notice = jQuery(\n\t\t\t\t\t'<div class=\"' + noticeClass + ' is-dismissible\"><p>' + message + '</p></div>'\n\t\t\t\t);\n\t\t\t\t$container.append($notice);\n\t\t\t\t// Make the notice dismissible\n\t\t\t\t$notice.on('click', '.notice-dismiss', function () {\n\t\t\t\t\t$notice.remove();\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\t// Last-resort fallback\n\t\t\t\twindow.console && window.console.log && window.console.log(message);\n\t\t\t}\n\t\t},\n\n\t\t// createConfirm returns a Promise that resolves to true when confirmed, false otherwise\n\t\tcreateConfirm: function (message, opts) {\n\t\t\topts = opts || {};\n\n\t\t\t// Try to use core/notices with buttons if available\n\t\t\tif (typeof wp !== 'undefined' && wp.data && wp.data.dispatch) {\n\t\t\t\ttry {\n\t\t\t\t\tvar _noticesDispatcher = wp.data.dispatch('core/notices');\n\t\t\t\t\tif (\n\t\t\t\t\t\t_noticesDispatcher &&\n\t\t\t\t\t\ttypeof _noticesDispatcher.createNotice === 'function'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t\t\t\tvar noticeOptions = {\n\t\t\t\t\t\t\t\tisDismissible: true,\n\t\t\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: opts.confirmLabel || 'Confirm',\n\t\t\t\t\t\t\t\t\t\tonClick: function () {\n\t\t\t\t\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: opts.cancelLabel || 'Cancel',\n\t\t\t\t\t\t\t\t\t\tonClick: function () {\n\t\t\t\t\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t_noticesDispatcher.createNotice('warning', message, noticeOptions);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Fall through to DOM modal fallback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// DOM modal fallback (no native confirm)\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\tvar $modal = jQuery(\n\t\t\t\t\t'<div class=\"optipress-modal-overlay\" role=\"dialog\" aria-modal=\"true\"><div class=\"optipress-modal\"><div class=\"optipress-modal-body\"><p>' +\n\t\t\t\t\t\tmessage +\n\t\t\t\t\t\t'</p></div><div class=\"optipress-modal-actions\"><button class=\"optipress-modal-confirm button button-primary\">' +\n\t\t\t\t\t\t(opts.confirmLabel || 'Confirm') +\n\t\t\t\t\t\t'</button> <button class=\"optipress-modal-cancel button\">' +\n\t\t\t\t\t\t(opts.cancelLabel || 'Cancel') +\n\t\t\t\t\t\t'</button></div></div></div>'\n\t\t\t\t);\n\n\t\t\t\t// Basic styling to make it visible (kept small and unobtrusive)\n\t\t\t\tvar style =\n\t\t\t\t\t'\\n.optipress-modal-overlay{position:fixed;left:0;top:0;right:0;bottom:0;z-index:99999;background:rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center}\\n.optipress-modal{background:#fff;border-radius:4px;padding:20px;max-width:520px;box-shadow:0 2px 10px rgba(0,0,0,0.2)}\\n.optipress-modal .optipress-modal-actions{margin-top:16px;text-align:right}';\n\t\t\t\tif (!document.getElementById('optipress-modal-style')) {\n\t\t\t\t\tvar s = document.createElement('style');\n\t\t\t\t\ts.id = 'optipress-modal-style';\n\t\t\t\t\ts.appendChild(document.createTextNode(style));\n\t\t\t\t\tdocument.head.appendChild(s);\n\t\t\t\t}\n\n\t\t\t\tjQuery('body').append($modal);\n\n\t\t\t\t$modal.find('.optipress-modal-confirm').on('click', function () {\n\t\t\t\t\t$modal.remove();\n\t\t\t\t\tresolve(true);\n\t\t\t\t});\n\n\t\t\t\t$modal.find('.optipress-modal-cancel').on('click', function () {\n\t\t\t\t\t$modal.remove();\n\t\t\t\t\tresolve(false);\n\t\t\t\t});\n\n\t\t\t\t// Close on ESC\n\t\t\t\tjQuery(document).on('keydown.optipressModal', function (e) {\n\t\t\t\t\tif (e.key === 'Escape') {\n\t\t\t\t\t\tjQuery(document).off('keydown.optipressModal');\n\t\t\t\t\t\t$modal.remove();\n\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t};\n})(jQuery);\n"],
  "mappings": "OAAC,SAAUA,EAAG,CACb,aAGA,OAAO,iBAAmB,CACzB,aAAc,SAAUC,EAAMC,EAASC,EAAS,CAE/C,GADAA,EAAUA,GAAW,CAAC,EAClB,OAAO,IAAO,aAAe,GAAG,MAAQ,GAAG,KAAK,SACnD,GAAI,CACH,IAAIC,EAAqB,GAAG,KAAK,SAAS,cAAc,EACxD,GACCA,GACA,OAAOA,EAAmB,cAAiB,WAC1C,CACDA,EAAmB,aAAaH,EAAMC,EAASC,CAAO,EACtD,MACD,CACD,OAASE,EAAG,CAEZ,CAID,GAAI,CACH,IAAIC,EAAa,OAAO,wBAAwB,EAC3CA,EAAW,SACfA,EAAa,OAAO,wCAAwC,EAExD,OAAO,OAAO,EAAE,OACnB,OAAO,OAAO,EAAE,MAAM,EAAE,QAAQA,CAAU,EAE1C,OAAO,MAAM,EAAE,QAAQA,CAAU,GAInC,IAAIC,EAAc,SAClB,OAAQN,EAAM,CACb,IAAK,UACJM,GAAe,kBACf,MACD,IAAK,UACJA,GAAe,kBACf,MACD,IAAK,QACJA,GAAe,gBACf,MACD,QACCA,GAAe,cACjB,CAEA,IAAIC,EAAU,OACb,eAAiBD,EAAc,uBAAyBL,EAAU,YACnE,EACAI,EAAW,OAAOE,CAAO,EAEzBA,EAAQ,GAAG,QAAS,kBAAmB,UAAY,CAClDA,EAAQ,OAAO,CAChB,CAAC,EACD,MACD,OAASH,EAAG,CAEX,OAAO,SAAW,OAAO,QAAQ,KAAO,OAAO,QAAQ,IAAIH,CAAO,CACnE,CACD,EAGA,cAAe,SAAUA,EAASO,EAAM,CAIvC,GAHAA,EAAOA,GAAQ,CAAC,EAGZ,OAAO,IAAO,aAAe,GAAG,MAAQ,GAAG,KAAK,SACnD,GAAI,CACH,IAAIL,EAAqB,GAAG,KAAK,SAAS,cAAc,EACxD,GACCA,GACA,OAAOA,EAAmB,cAAiB,WAE3C,OAAO,IAAI,QAAQ,SAAUM,EAAS,CACrC,IAAIC,EAAgB,CACnB,cAAe,GACf,QAAS,CACR,CACC,MAAOF,EAAK,cAAgB,UAC5B,QAAS,UAAY,CACpBC,EAAQ,EAAI,CACb,CACD,EACA,CACC,MAAOD,EAAK,aAAe,SAC3B,QAAS,UAAY,CACpBC,EAAQ,EAAK,CACd,CACD,CACD,CACD,EAEAN,EAAmB,aAAa,UAAWF,EAASS,CAAa,CAClE,CAAC,CAEH,OAASN,EAAG,CAEZ,CAID,OAAO,IAAI,QAAQ,SAAUK,EAAS,CACrC,IAAIE,EAAS,OACZ,0IACCV,EACA,iHACCO,EAAK,cAAgB,WACtB,4DACCA,EAAK,aAAe,UACrB,6BACF,EAGII,EACH;AAAA;AAAA;AAAA,6EACD,GAAI,CAAC,SAAS,eAAe,uBAAuB,EAAG,CACtD,IAAIC,EAAI,SAAS,cAAc,OAAO,EACtCA,EAAE,GAAK,wBACPA,EAAE,YAAY,SAAS,eAAeD,CAAK,CAAC,EAC5C,SAAS,KAAK,YAAYC,CAAC,CAC5B,CAEA,OAAO,MAAM,EAAE,OAAOF,CAAM,EAE5BA,EAAO,KAAK,0BAA0B,EAAE,GAAG,QAAS,UAAY,CAC/DA,EAAO,OAAO,EACdF,EAAQ,EAAI,CACb,CAAC,EAEDE,EAAO,KAAK,yBAAyB,EAAE,GAAG,QAAS,UAAY,CAC9DA,EAAO,OAAO,EACdF,EAAQ,EAAK,CACd,CAAC,EAGD,OAAO,QAAQ,EAAE,GAAG,yBAA0B,SAAUL,EAAG,CACtDA,EAAE,MAAQ,WACb,OAAO,QAAQ,EAAE,IAAI,wBAAwB,EAC7CO,EAAO,OAAO,EACdF,EAAQ,EAAK,EAEf,CAAC,CACF,CAAC,CACF,CACD,CACD,GAAG,MAAM",
  "names": ["$", "type", "message", "options", "_noticesDispatcher", "e", "$container", "noticeClass", "$notice", "opts", "resolve", "noticeOptions", "$modal", "style", "s"]
}
