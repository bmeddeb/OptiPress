{
  "version": 3,
  "sources": ["../../src/js/admin-settings.js"],
  "sourcesContent": ["/**\n * OptiPress Admin Settings JavaScript\n *\n * @package OptiPress\n */\n\n(function ($) {\n\t'use strict';\n\n\t/**\n\t * Initialize admin settings functionality\n\t */\n\t$(document).ready(function () {\n\t\t// Initialize quality slider\n\t\tinitQualitySlider();\n\n\t\t// Initialize compatibility checker (only if on optimization tab)\n\t\tif ($('#optipress_engine').length) {\n\t\t\tinitCompatibilityChecker();\n\t\t}\n\n\t\t// Confirm before disabling \"Keep Originals\"\n\t\tinitKeepOriginalsWarning();\n\t});\n\n\t/**\n\t * Initialize quality slider\n\t */\n\tfunction initQualitySlider() {\n\t\tconst $slider = $('#optipress_quality');\n\t\tconst $display = $('#optipress-quality-value');\n\n\t\tif (!$slider.length || !$display.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update display on slider change\n\t\t$slider.on('input', function () {\n\t\t\t$display.text($(this).val());\n\t\t});\n\t}\n\n\t/**\n\t * Initialize compatibility checker\n\t */\n\tfunction initCompatibilityChecker() {\n\t\tconst $engine = $('#optipress_engine');\n\t\tconst $format = $('#optipress_format');\n\t\tconst $status = $('#optipress-compatibility-status');\n\n\t\tif (!$engine.length || !$format.length || !$status.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Check engine/format compatibility via AJAX\n\t\t */\n\t\tfunction checkCompatibility() {\n\t\t\tconst engine = $engine.val();\n\t\t\tconst format = $format.val();\n\n\t\t\t// Show loading spinner\n\t\t\t$status.html('<span class=\"spinner is-active\" style=\"float: none; margin: 0;\"></span>');\n\n\t\t\t// AJAX request\n\t\t\t$.ajax({\n\t\t\t\turl: optipressAdmin.ajaxUrl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\taction: 'optipress_check_compatibility',\n\t\t\t\t\tnonce: optipressAdmin.nonce,\n\t\t\t\t\tengine: engine,\n\t\t\t\t\tformat: format,\n\t\t\t\t},\n\t\t\t\tsuccess: function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t$status.html(\n\t\t\t\t\t\t\t'<span class=\"optipress-status-success\">\u2713 ' +\n\t\t\t\t\t\t\t\tresponse.data.message +\n\t\t\t\t\t\t\t\t'</span>'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$status.html(\n\t\t\t\t\t\t\t'<span class=\"optipress-status-error\">\u2717 ' +\n\t\t\t\t\t\t\t\tresponse.data.message +\n\t\t\t\t\t\t\t\t'</span>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function () {\n\t\t\t\t\t$status.html(\n\t\t\t\t\t\t'<span class=\"optipress-status-error\">\u2717 ' +\n\t\t\t\t\t\t\t'Failed to check compatibility' +\n\t\t\t\t\t\t\t'</span>'\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Check on change\n\t\t$engine.on('change', checkCompatibility);\n\t\t$format.on('change', checkCompatibility);\n\n\t\t// Check on page load\n\t\tcheckCompatibility();\n\t}\n\n\t/**\n\t * Initialize \"Keep Originals\" warning\n\t */\n\tfunction initKeepOriginalsWarning() {\n\t\tconst $checkbox = $('input[name=\"optipress_options[keep_originals]\"]');\n\n\t\tif (!$checkbox.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t$checkbox.on('change', function () {\n\t\t\tif (!$(this).is(':checked')) {\n\t\t\t\tvar message =\n\t\t\t\t\t'Warning: Disabling \"Keep Originals\" will permanently delete original image files after conversion.\\n\\n' +\n\t\t\t\t\t'This cannot be undone, and you will not be able to revert conversions.\\n\\n' +\n\t\t\t\t\t'Are you sure you want to disable this option?';\n\n\t\t\t\t// Use OptipressNotices.createConfirm if available (non-blocking), fallback to window.confirm\n\t\t\t\tOptipressNotices.createConfirm(message, {\n\t\t\t\t\tconfirmLabel: 'Disable',\n\t\t\t\t\tcancelLabel: 'Keep Originals',\n\t\t\t\t}).then(function (confirmed) {\n\t\t\t\t\tif (!confirmed) {\n\t\t\t\t\t\t$('input[name=\"optipress_options[keep_originals]\"]').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n})(jQuery);\n"],
  "mappings": ";;AAMA,GAAC,SAAU,GAAG;AACb;AAKA,MAAE,QAAQ,EAAE,MAAM,WAAY;AAE7B,wBAAkB;AAGlB,UAAI,EAAE,mBAAmB,EAAE,QAAQ;AAClC,iCAAyB;AAAA,MAC1B;AAGA,+BAAyB;AAAA,IAC1B,CAAC;AAKD,aAAS,oBAAoB;AAC5B,YAAM,UAAU,EAAE,oBAAoB;AACtC,YAAM,WAAW,EAAE,0BAA0B;AAE7C,UAAI,CAAC,QAAQ,UAAU,CAAC,SAAS,QAAQ;AACxC;AAAA,MACD;AAGA,cAAQ,GAAG,SAAS,WAAY;AAC/B,iBAAS,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;AAAA,MAC5B,CAAC;AAAA,IACF;AAKA,aAAS,2BAA2B;AACnC,YAAM,UAAU,EAAE,mBAAmB;AACrC,YAAM,UAAU,EAAE,mBAAmB;AACrC,YAAM,UAAU,EAAE,iCAAiC;AAEnD,UAAI,CAAC,QAAQ,UAAU,CAAC,QAAQ,UAAU,CAAC,QAAQ,QAAQ;AAC1D;AAAA,MACD;AAKA,eAAS,qBAAqB;AAC7B,cAAM,SAAS,QAAQ,IAAI;AAC3B,cAAM,SAAS,QAAQ,IAAI;AAG3B,gBAAQ,KAAK,yEAAyE;AAGtF,UAAE,KAAK;AAAA,UACN,KAAK,eAAe;AAAA,UACpB,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,YACR,OAAO,eAAe;AAAA,YACtB;AAAA,YACA;AAAA,UACD;AAAA,UACA,SAAS,SAAU,UAAU;AAC5B,gBAAI,SAAS,SAAS;AACrB,sBAAQ;AAAA,gBACP,mDACC,SAAS,KAAK,UACd;AAAA,cACF;AAAA,YACD,OAAO;AACN,sBAAQ;AAAA,gBACP,iDACC,SAAS,KAAK,UACd;AAAA,cACF;AAAA,YACD;AAAA,UACD;AAAA,UACA,OAAO,WAAY;AAClB,oBAAQ;AAAA,cACP;AAAA,YAGD;AAAA,UACD;AAAA,QACD,CAAC;AAAA,MACF;AAGA,cAAQ,GAAG,UAAU,kBAAkB;AACvC,cAAQ,GAAG,UAAU,kBAAkB;AAGvC,yBAAmB;AAAA,IACpB;AAKA,aAAS,2BAA2B;AACnC,YAAM,YAAY,EAAE,iDAAiD;AAErE,UAAI,CAAC,UAAU,QAAQ;AACtB;AAAA,MACD;AAEA,gBAAU,GAAG,UAAU,WAAY;AAClC,YAAI,CAAC,EAAE,IAAI,EAAE,GAAG,UAAU,GAAG;AAC5B,cAAI,UACH;AAKD,2BAAiB,cAAc,SAAS;AAAA,YACvC,cAAc;AAAA,YACd,aAAa;AAAA,UACd,CAAC,EAAE,KAAK,SAAU,WAAW;AAC5B,gBAAI,CAAC,WAAW;AACf,gBAAE,iDAAiD,EAAE,KAAK,WAAW,IAAI;AAAA,YAC1E;AAAA,UACD,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD,GAAG,MAAM;",
  "names": []
}
