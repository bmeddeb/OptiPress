{
  "version": 3,
  "sources": ["../../src/js/upload-progress.js"],
  "sourcesContent": ["/**\n * OptiPress Upload Progress Tracking\n *\n * @package OptiPress\n */\n\n(function ($) {\n\t'use strict';\n\n\t// Track attachments being processed\n\tvar processingAttachments = {};\n\tvar pollInterval = null;\n\tvar sessionSavings = 0;\n\tvar sessionCount = 0;\n\tvar DEBUG = !!window.OPTIPRESS_DEBUG;\n\n\tfunction log() {\n\t\tif (DEBUG && window.console && console.log) {\n\t\t\tconsole.log.apply(console, arguments);\n\t\t}\n\t}\n\n\tfunction deriveMimeFromFilename(name) {\n\t\tif (!name) return '';\n\t\tvar m = name.toLowerCase().match(/\\.([a-z0-9]+)$/);\n\t\tif (!m) return '';\n\n\t\t// Use extension map from PHP\n\t\tvar extensionMap = window.optipressUpload && window.optipressUpload.extensionMap || {};\n\t\tvar ext = m[1];\n\n\t\treturn extensionMap[ext] || '';\n\t}\n\n\tfunction getAttachmentMime(att) {\n\t\tif (!att) return '';\n\t\tif (att.mime) return att.mime;\n\t\tif (att.type && att.subtype) return (att.type + '/' + att.subtype).toLowerCase();\n\t\treturn deriveMimeFromFilename(att.filename || att.name || '');\n\t}\n\n\tfunction isConvertibleMime(mime) {\n\t\tif (!mime) return false;\n\t\tmime = mime.toLowerCase();\n\n\t\t// Use supported MIME types from PHP\n\t\tvar supportedMimes = window.optipressUpload && window.optipressUpload.supportedMimeTypes || [];\n\t\treturn supportedMimes.indexOf(mime) !== -1;\n\t}\n\n\t/**\n\t * Initialize upload progress tracking\n\t */\n\t$(document).ready(function () {\n\t\tif (typeof wp === 'undefined' || typeof wp.Uploader === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Add savings counter and status panel\n\t\taddSavingsCounter();\n\t\tensureUploadPanel();\n\n\t\t// Hook into Backbone uploader for media modal - safer than overriding prototype\n\t\tif (wp.Uploader.queue) {\n\t\t\twp.Uploader.queue.on('add', function (attachment) {\n\t\t\t\tif (attachment && attachment.id) {\n\t\t\t\t\tif (DEBUG) log('OptiPress uploader queue add:', attachment);\n\t\t\t\t\ttrackAttachment(attachment.id, attachment);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Also listen for successful uploads via the queue\n\t\tif (wp.Uploader.queue) {\n\t\t\twp.Uploader.queue.on('upload:success', function (attachment) {\n\t\t\t\tif (attachment && attachment.id) {\n\t\t\t\t\tif (DEBUG) log('OptiPress uploader success:', attachment);\n\t\t\t\t\ttrackAttachment(attachment.id, attachment);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t/**\n\t * Track attachment for conversion status polling\n\t */\n\tfunction trackAttachment(attachmentId, attachment) {\n\t\tvar mimeType = getAttachmentMime(attachment);\n\t\tif (DEBUG) log('OptiPress trackAttachment:', attachmentId, mimeType, attachment);\n\t\tif (!isConvertibleMime(mimeType)) return;\n\n\t\t// Add to processing queue\n\t\tprocessingAttachments[attachmentId] = {\n\t\t\tid: attachmentId,\n\t\t\tfilename: attachment.filename || attachment.name || 'image',\n\t\t\tattempts: 0,\n\t\t\tmaxAttempts: 30, // 30 seconds max polling\n\t\t\tfastPollUntil: Date.now() + 5000, // Fast poll for first 5 seconds\n\t\t};\n\n\t\t// Show initial status immediately\n\t\tshowConversionStatus(attachmentId, 'processing');\n\n\t\t// Start polling immediately (don't wait 1 second)\n\t\tpollConversionStatus(attachmentId);\n\n\t\t// Start polling interval if not already running\n\t\tif (!pollInterval) {\n\t\t\tstartPolling();\n\t\t}\n\t}\n\n\t/**\n\t * Start polling for conversion status\n\t */\n\tfunction startPolling() {\n\t\t// Use faster polling for first few seconds to catch quick conversions\n\t\tvar pollCount = 0;\n\n\t\tpollInterval = setInterval(function () {\n\t\t\tpollCount++;\n\t\t\tcheckConversionStatuses();\n\n\t\t\t// Switch to slower polling after 10 fast polls (2 seconds)\n\t\t\tif (pollCount === 10 && pollInterval) {\n\t\t\t\tclearInterval(pollInterval);\n\t\t\t\tpollInterval = setInterval(checkConversionStatuses, 1000);\n\t\t\t}\n\t\t}, 200); // Poll every 200ms initially\n\t}\n\n\t/**\n\t * Stop polling\n\t */\n\tfunction stopPolling() {\n\t\tif (pollInterval) {\n\t\t\tclearInterval(pollInterval);\n\t\t\tpollInterval = null;\n\t\t}\n\t}\n\n\t/**\n\t * Check conversion status for all processing attachments\n\t */\n\tfunction checkConversionStatuses() {\n\t\tvar attachmentIds = Object.keys(processingAttachments);\n\n\t\tif (attachmentIds.length === 0) {\n\t\t\tstopPolling();\n\t\t\treturn;\n\t\t}\n\n\t\t// Check each attachment\n\t\tattachmentIds.forEach(function (attachmentId) {\n\t\t\tvar attachment = processingAttachments[attachmentId];\n\t\t\tattachment.attempts++;\n\n\t\t\t// Check if max attempts reached\n\t\t\tif (attachment.attempts >= attachment.maxAttempts) {\n\t\t\t\tshowConversionStatus(attachmentId, 'timeout');\n\t\t\t\tdelete processingAttachments[attachmentId];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Poll status\n\t\t\tpollConversionStatus(attachmentId);\n\t\t});\n\t}\n\n\t/**\n\t * Poll conversion status for a single attachment\n\t */\n\tfunction pollConversionStatus(attachmentId) {\n\t\t$.ajax({\n\t\t\turl: ajaxurl,\n\t\t\ttype: 'POST',\n\t\t\tdata: {\n\t\t\t\taction: 'optipress_check_conversion_status',\n\t\t\t\tnonce: optipressUpload.nonce,\n\t\t\t\tattachment_id: attachmentId,\n\t\t\t},\n\t\t\tsuccess: function (response) {\n\t\t\t\tif (response.success && response.data) {\n\t\t\t\t\tif (response.data.status === 'completed') {\n\t\t\t\t\t\t// Conversion complete\n\t\t\t\t\t\tshowConversionStatus(attachmentId, 'completed', response.data);\n\t\t\t\t\t\tdelete processingAttachments[attachmentId];\n\n\t\t\t\t\t\t// Update session counter\n\t\t\t\t\t\tupdateSessionStats(response.data);\n\t\t\t\t\t} else if (response.data.status === 'processing') {\n\t\t\t\t\t\t// Still processing - status already showing\n\t\t\t\t\t\tshowConversionStatus(attachmentId, 'processing', response.data);\n\t\t\t\t\t} else if (response.data.status === 'not_applicable') {\n\t\t\t\t\t\t// Not a convertible image or conversion disabled\n\t\t\t\t\t\tdelete processingAttachments[attachmentId];\n\t\t\t\t\t\t// Don't show any status for non-convertible images\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function () {\n\t\t\t\t// Silently handle errors, will retry on next poll\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * Show conversion status message\n\t */\n\tfunction showConversionStatus(attachmentId, status, data) {\n\t\tensureUploadPanel();\n\t\tupdateUploadPanelItem(attachmentId, status, data);\n\t}\n\n\t/**\n\t * Update session statistics\n\t */\n\tfunction updateSessionStats(data) {\n\t\tif (data.bytes_saved && data.bytes_saved > 0) {\n\t\t\tsessionSavings += data.bytes_saved;\n\t\t\tsessionCount++;\n\t\t\tupdateSavingsCounter();\n\t\t}\n\t}\n\n\t/**\n\t * Add savings counter to the page\n\t */\n\tfunction addSavingsCounter() {\n\t\t// Check if counter already exists\n\t\tif ($('#optipress-savings-counter').length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Add counter to the page\n\t\tvar $counter = $(\n\t\t\t'<div id=\"optipress-savings-counter\" class=\"optipress-counter-hidden\">' +\n\t\t\t\t'<div class=\"optipress-counter-label\">OptiPress Session</div>' +\n\t\t\t\t'<div class=\"optipress-counter-value\">' +\n\t\t\t\t'<span id=\"optipress-session-savings\">0 KB</span> saved' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"optipress-counter-count\">' +\n\t\t\t\t'<span id=\"optipress-session-count\">0</span> images optimized' +\n\t\t\t\t'</div>' +\n\t\t\t\t'</div>'\n\t\t);\n\n\t\t$('body').append($counter);\n\t}\n\n\t/**\n\t * Upload status panel\n\t */\n\tfunction ensureUploadPanel() {\n\t\tif ($('#optipress-upload-panel').length) return;\n\t\tvar $panel = $(\n\t\t\t'<div id=\"optipress-upload-panel\" class=\"hidden\">' +\n\t\t\t\t'<div class=\"optipress-upload-header\">' +\n\t\t\t\t'<span>OptiPress Uploads</span>' +\n\t\t\t\t'<button type=\"button\" class=\"optipress-upload-remove\" title=\"Hide\" aria-label=\"Hide\">\u00D7</button>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<ul class=\"optipress-upload-list\" id=\"optipress-upload-list\"></ul>' +\n\t\t\t\t'</div>'\n\t\t);\n\t\t$panel.on('click', '.optipress-upload-remove', function () {\n\t\t\t$('#optipress-upload-panel').toggleClass('hidden');\n\t\t});\n\t\t$('body').append($panel);\n\t}\n\n\tfunction updateUploadPanelVisibility() {\n\t\tvar $list = $('#optipress-upload-list');\n\t\tvar hasItems = $list.children().length > 0;\n\t\t$('#optipress-upload-panel').toggleClass('hidden', !hasItems);\n\t}\n\n\tfunction updateUploadPanelItem(attachmentId, status, data) {\n\t\tvar $list = $('#optipress-upload-list');\n\t\tvar id = String(attachmentId);\n\t\tvar $item = $list.find('[data-id=\"' + id + '\"]');\n\t\tvar filename =\n\t\t\t(data && data.filename) ||\n\t\t\t(processingAttachments[id] && processingAttachments[id].filename) ||\n\t\t\t'#' + id;\n\t\tvar message;\n\t\tswitch (status) {\n\t\t\tcase 'processing':\n\t\t\t\tmessage = (data && data.message) || 'Converting image...';\n\t\t\t\tbreak;\n\t\t\tcase 'completed':\n\t\t\t\tmessage = (data && data.message) || 'Conversion complete';\n\t\t\t\tbreak;\n\t\t\tcase 'timeout':\n\t\t\t\tmessage = 'Conversion taking longer than expected...';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!$item.length) {\n\t\t\t$item = $(\n\t\t\t\t'<li class=\"optipress-upload-item processing\" data-id=\"' +\n\t\t\t\t\tid +\n\t\t\t\t\t'\">' +\n\t\t\t\t\t'<span class=\"status-icon\"><span class=\"spinner is-active\"></span></span>' +\n\t\t\t\t\t'<div class=\"optipress-upload-filename\" title=\"' +\n\t\t\t\t\tfilename +\n\t\t\t\t\t'\">' +\n\t\t\t\t\tfilename +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"optipress-upload-message\">' +\n\t\t\t\t\tmessage +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</li>'\n\t\t\t);\n\t\t\t$list.prepend($item);\n\t\t} else {\n\t\t\t$item.find('.optipress-upload-message').text(message);\n\t\t}\n\n\t\t$item.removeClass('processing completed timeout');\n\t\tswitch (status) {\n\t\t\tcase 'processing':\n\t\t\t\t$item.addClass('processing');\n\t\t\t\t$item.find('.status-icon').html('<span class=\"spinner is-active\"></span>');\n\t\t\t\tbreak;\n\t\t\tcase 'completed':\n\t\t\t\t$item.addClass('completed');\n\t\t\t\t$item\n\t\t\t\t\t.find('.status-icon')\n\t\t\t\t\t.html('<span class=\"dashicons dashicons-yes-alt\"></span>');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$item.fadeOut(300, function () {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\tupdateUploadPanelVisibility();\n\t\t\t\t\t});\n\t\t\t\t}, 8000);\n\t\t\t\tbreak;\n\t\t\tcase 'timeout':\n\t\t\t\t$item.addClass('timeout');\n\t\t\t\t$item\n\t\t\t\t\t.find('.status-icon')\n\t\t\t\t\t.html('<span class=\"dashicons dashicons-warning\"></span>');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$item.fadeOut(300, function () {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\tupdateUploadPanelVisibility();\n\t\t\t\t\t});\n\t\t\t\t}, 5000);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tupdateUploadPanelVisibility();\n\t}\n\n\t/**\n\t * Update savings counter display\n\t */\n\tfunction updateSavingsCounter() {\n\t\tvar $counter = $('#optipress-savings-counter');\n\n\t\tif (!$counter.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Format savings\n\t\tvar formatted;\n\t\tvar savingsKB = sessionSavings / 1024;\n\n\t\tif (savingsKB >= 1024) {\n\t\t\tformatted = (savingsKB / 1024).toFixed(1) + ' MB';\n\t\t} else {\n\t\t\tformatted = savingsKB.toFixed(1) + ' KB';\n\t\t}\n\n\t\t// Update text\n\t\t$('#optipress-session-savings').text(formatted);\n\t\t$('#optipress-session-count').text(sessionCount);\n\n\t\t// Show counter\n\t\tif (sessionCount > 0) {\n\t\t\t$counter.removeClass('optipress-counter-hidden');\n\t\t}\n\t}\n})(jQuery);\n"],
  "mappings": "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",
  "names": ["$", "processingAttachments", "pollInterval", "sessionSavings", "sessionCount", "DEBUG", "log", "deriveMimeFromFilename", "name", "m", "extensionMap", "ext", "getAttachmentMime", "att", "isConvertibleMime", "mime", "supportedMimes", "addSavingsCounter", "ensureUploadPanel", "attachment", "trackAttachment", "attachmentId", "mimeType", "showConversionStatus", "pollConversionStatus", "startPolling", "pollCount", "checkConversionStatuses", "stopPolling", "attachmentIds", "response", "updateSessionStats", "status", "data", "updateUploadPanelItem", "updateSavingsCounter", "$counter", "$panel", "updateUploadPanelVisibility", "$list", "hasItems", "id", "$item", "filename", "message", "formatted", "savingsKB"]
}
